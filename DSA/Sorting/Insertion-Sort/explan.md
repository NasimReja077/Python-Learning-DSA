# Complete Line-by-Line Explanation: Insertion Sort

---

## Complete Code with Line Numbers

```python
# Insertion Sort Program                    # Line 1 (comment)
                                            # Line 2 (blank)
def insertion_sort(arr):                    # Line 3
    n = len(arr)                            # Line 4
                                            # Line 5 (blank)
    for i in range(1, n):                   # Line 6
                                            # Line 7 (blank)
        key = arr[i]                        # Line 8
        j = i - 1                           # Line 9
                                            # Line 10 (blank)
                                            # Line 11 (blank)
        while j >= 0 and arr[j] > key:      # Line 12
            arr[j + 1] = arr[j]             # Line 13
            j = j - 1                       # Line 14
                                            # Line 15 (blank)
        arr[j + 1] = key                    # Line 16
                                            # Line 17 (blank)
    return arr                              # Line 18
                                            # Line 19 (blank)
                                            # Line 20 (blank)
# -------- Example Usage --------          # Line 21 (comment)
arr = [64, 32, 25, 12, 22, 11, 2]          # Line 22
                                            # Line 23 (blank)
print("Original Array:", arr)               # Line 24
insertion_sort(arr)                         # Line 25
print("Sorted Array:", arr)                 # Line 26
```

---

# EXAMPLE EXECUTION

Array to sort: **[64, 32, 25, 12, 22, 11, 2]**

---

## LINE 22: Initialize Array

```python
arr = [64, 32, 25, 12, 22, 11, 2]
```

**Visual:**
```
Index:   0   1   2   3   4   5   6
       â”Œâ”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”
arr =  â”‚64 â”‚32 â”‚25 â”‚12 â”‚22 â”‚11 â”‚ 2 â”‚
       â””â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”˜

Total elements: 7
```

**Memory State:**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  AFTER LINE 22                   â”‚
â”‚                                  â”‚
â”‚  arr = [64, 32, 25, 12,          â”‚
â”‚         22, 11, 2]               â”‚
â”‚  Length: 7                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## LINE 24: Print Original Array

```python
print("Original Array:", arr)
```

**Console Output:**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Original Array: [64, 32, 25, 12, 22, 11, 2]  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## LINE 25: Call insertion_sort()

```python
insertion_sort(arr)
```

**Function starts executing...**

---

## LINE 4: Get Array Length

```python
n = len(arr)
```

**Execution:**
```
len(arr) = len([64, 32, 25, 12, 22, 11, 2]) = 7
n = 7
```

**Memory State:**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  INSIDE insertion_sort()         â”‚
â”‚                                  â”‚
â”‚  arr = [64, 32, 25, 12,          â”‚
â”‚         22, 11, 2]               â”‚
â”‚  n = 7                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## LINE 6: Outer Loop (Select Elements to Insert)

```python
for i in range(1, n):
```

**What it does:**
- Iterates from index 1 to n-1
- `range(1, n)` = `range(1, 7)` = 1, 2, 3, 4, 5, 6
- Picks each element to insert into sorted portion

**Why start from 1?**
```
Index 0: First element is already "sorted" (single element)
Index 1 onwards: Insert each element into sorted portion

Initial state:
[64] | 32, 25, 12, 22, 11, 2
 â–²      â””â”€ Unsorted portion â”€â”˜
Sorted
```

**Visual:**
```
       â”Œâ”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”
arr =  â”‚64 â”‚32 â”‚25 â”‚12 â”‚22 â”‚11 â”‚ 2 â”‚
       â””â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”˜
        â–²   â–²
     Sorted i will iterate: 1, 2, 3, 4, 5, 6
```

---

# PASS 1: i = 1

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  PASS 1 (i = 1)                            â”‚
â”‚  Goal: Insert arr[1] = 32 into sorted      â”‚
â”‚        portion arr[0]                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Initial State:**
```
Index:  0   1   2   3   4   5   6
       â”Œâ”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”
arr =  â”‚64 â”‚32 â”‚25 â”‚12 â”‚22 â”‚11 â”‚ 2 â”‚
       â””â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”˜
        â–²   â–²
     Sorted i = 1 (element to insert)
     
Sorted portion: [64]
Element to insert: 32
```

---

## LINE 8: Store Current Element as Key

```python
key = arr[i]
```

**Execution:**
```
key = arr[1] = 32

"Key" is the element we want to insert
into the sorted portion
```

**Visual:**
```
       â”Œâ”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”
arr =  â”‚64 â”‚32 â”‚25 â”‚12 â”‚22 â”‚11 â”‚ 2 â”‚
       â””â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”˜
        â–²    â–²
            i = 1
            
key = 32 (stored in separate variable)

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ key=32  â”‚ â† Element to be inserted
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Memory State:**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  AFTER LINE 8                    â”‚
â”‚                                  â”‚
â”‚  i = 1                           â”‚
â”‚  key = 32                        â”‚
â”‚  arr[1] = 32                     â”‚
â”‚                                  â”‚
â”‚  We'll insert 32 into sorted     â”‚
â”‚  portion [64]                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## LINE 9: Initialize j (Pointer to Sorted Portion)

```python
j = i - 1
```

**Execution:**
```
j = i - 1 = 1 - 1 = 0

j points to the last element of sorted portion
```

**Visual:**
```
       â”Œâ”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”
arr =  â”‚64 â”‚32 â”‚25 â”‚12 â”‚22 â”‚11 â”‚ 2 â”‚
       â””â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”˜
        â–²   â–²
        j   i
        
j = 0 (last index of sorted portion)
i = 1 (current element position)

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ key=32  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Memory State:**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  AFTER LINE 9                    â”‚
â”‚                                  â”‚
â”‚  i = 1                           â”‚
â”‚  j = 0                           â”‚
â”‚  key = 32                        â”‚
â”‚                                  â”‚
â”‚  j points to arr[0] = 64         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## LINE 12: While Loop (Shift Elements)

```python
while j >= 0 and arr[j] > key:
```

**What it does:**
- Checks two conditions:
  1. `j >= 0`: Haven't gone past beginning of array
  2. `arr[j] > key`: Current element is greater than key

**Why these conditions?**
```
j >= 0: Stop when we reach start of array
arr[j] > key: Elements larger than key must shift right
```

---

### **Iteration 1: j = 0**

**LINE 12: Check Condition**

**Current State:**
```
       â”Œâ”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”
arr =  â”‚64 â”‚32 â”‚25 â”‚12 â”‚22 â”‚11 â”‚ 2 â”‚
       â””â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”˜
        â–²   â–²
        j   i
        
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ key=32  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Condition Evaluation:**
```
Condition 1: j >= 0
             0 >= 0 â†’ TRUE âœ“

Condition 2: arr[j] > key
             arr[0] > 32
             64 > 32 â†’ TRUE âœ“

Both conditions TRUE â†’ Enter while loop
```

**Visual:**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  WHILE LOOP ITERATION 1            â”‚
â”‚                                    â”‚
â”‚  j = 0                             â”‚
â”‚  arr[j] = 64                       â”‚
â”‚  key = 32                          â”‚
â”‚                                    â”‚
â”‚  Check: 64 > 32? YES âœ“             â”‚
â”‚  Action: Shift 64 to the right     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

**LINE 13: Shift Element to Right**

```python
arr[j + 1] = arr[j]
```

**Execution:**
```
arr[j + 1] = arr[j]
arr[0 + 1] = arr[0]
arr[1] = 64

Copy 64 to position 1 (shift right)
```

**BEFORE Line 13:**
```
       â”Œâ”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”
arr =  â”‚64 â”‚32 â”‚25 â”‚12 â”‚22 â”‚11 â”‚ 2 â”‚
       â””â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”˜
        â–²   â–²
        j   j+1
```

**AFTER Line 13:**
```
       â”Œâ”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”
arr =  â”‚64 â”‚64 â”‚25 â”‚12 â”‚22 â”‚11 â”‚ 2 â”‚
       â””â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”˜
        â–²   â–²
        j  j+1 (64 copied here)
        
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ key=32  â”‚ â† Still in key variable
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Visual Shift:**
```
BEFORE:
  j   i
  â–¼   â–¼
â”Œâ”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”
â”‚64 â”‚32 â”‚25 â”‚12 â”‚22 â”‚11 â”‚ 2 â”‚
â””â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”˜

SHIFT:
    â”Œâ”€â”€â”€â”
    â”‚64 â”‚ â”€â”€â”€â”€â”
    â””â”€â”€â”€â”˜     â”‚
              â–¼
â”Œâ”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”
â”‚64 â”‚64 â”‚25 â”‚12 â”‚22 â”‚11 â”‚ 2 â”‚
â””â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”˜
    Creates space for insertion
```

**Memory State:**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  AFTER LINE 13                   â”‚
â”‚                                  â”‚
â”‚  arr = [64, 64, 25, 12,          â”‚
â”‚         22, 11, 2]               â”‚
â”‚  j = 0                           â”‚
â”‚  key = 32                        â”‚
â”‚                                  â”‚
â”‚  64 shifted right, creating gap  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

**LINE 14: Move j Left**

```python
j = j - 1
```

**Execution:**
```
j = j - 1
j = 0 - 1
j = -1

Move j to check previous element
(in this case, goes to -1, meaning before array start)
```

**AFTER Line 14:**
```
       â”Œâ”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”
arr =  â”‚64 â”‚64 â”‚25 â”‚12 â”‚22 â”‚11 â”‚ 2 â”‚
       â””â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”˜
       j=-1  â–²
            i=1
         
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ key=32  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Memory State:**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  AFTER LINE 14                   â”‚
â”‚                                  â”‚
â”‚  j = -1 (before array start)     â”‚
â”‚  arr = [64, 64, 25, 12,          â”‚
â”‚         22, 11, 2]               â”‚
â”‚  key = 32                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### **Iteration 2: Check While Condition Again**

**LINE 12: Check Condition**
```
j >= 0 and arr[j] > key
-1 >= 0 and ...
FALSE âœ—

j is now -1, so first condition fails
EXIT while loop
```

**Loop Complete!**

---

## LINE 16: Insert Key at Correct Position

```python
arr[j + 1] = key
```

**Execution:**
```
arr[j + 1] = key
arr[-1 + 1] = 32
arr[0] = 32

Insert 32 at position 0
```

**BEFORE Line 16:**
```
       â”Œâ”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”
arr = â”‚64 â”‚64 â”‚25 â”‚12 â”‚22 â”‚11 â”‚ 2 â”‚
       â””â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”˜
    j=-1  â–²
         j+1=0 (insertion position)
         
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ key=32  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**AFTER Line 16:**
```
       â”Œâ”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”
arr = â”‚32 â”‚64 â”‚25 â”‚12 â”‚22 â”‚11 â”‚ 2 â”‚
       â””â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”˜
        â–²   â–²
       key inserted here!
```

**Visual Insertion:**
```
STEP 1: Gap created
â”Œâ”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”
â”‚64 â”‚64 â”‚25 â”‚12 â”‚22 â”‚11 â”‚ 2 â”‚
â””â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”˜
 â–²
Insert here

STEP 2: Key inserted
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ key=32  â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚
        â–¼
â”Œâ”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”
â”‚32 â”‚64 â”‚25 â”‚12 â”‚22 â”‚11 â”‚ 2 â”‚
â””â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”˜
```

---

## **END OF PASS 1**

**Result:**
```
       â”Œâ”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”
arr =  â”‚32 â”‚64 â”‚25 â”‚12 â”‚22 â”‚11 â”‚ 2 â”‚
       â””â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”˜
        â””â”€â”€â”¬â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         Sorted    Unsorted
         
Sorted portion: [32, 64]
Element 32 inserted correctly!
```

**Summary:**
- **Key:** 32
- **Comparisons:** 1 (64 > 32)
- **Shifts:** 1 (64 shifted right)
- **Insertion position:** 0

---

# PASS 2: i = 2

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  PASS 2 (i = 2)                            â”‚
â”‚  Goal: Insert arr[2] = 25 into sorted      â”‚
â”‚        portion [32, 64]                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Initial State:**
```
       â”Œâ”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”
arr =  â”‚32 â”‚64 â”‚25 â”‚12 â”‚22 â”‚11 â”‚ 2 â”‚
       â””â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”˜
        â””â”€â”€â”¬â”€â”€â”˜  â–²
         Sorted  i = 2
```

---

## LINE 8: Store Key

```python
key = arr[2] = 25
```

**LINE 9: Initialize j**

```python
j = i - 1 = 2 - 1 = 1
```

**State:**
```
       â”Œâ”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”
arr =  â”‚32 â”‚64 â”‚25 â”‚12 â”‚22 â”‚11 â”‚ 2 â”‚
       â””â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”˜
            â–²   â–²
            j   i
            
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ key=25  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## While Loop Iterations

### **Iteration 1: j = 1**

**LINE 12: Check**
```
j >= 0 â†’ 1 >= 0 â†’ TRUE âœ“
arr[j] > key â†’ arr[1] > 25 â†’ 64 > 25 â†’ TRUE âœ“

Enter loop
```

**LINE 13: Shift**
```
arr[j + 1] = arr[j]
arr[2] = arr[1]
arr[2] = 64
```

**AFTER Shift:**
```
       â”Œâ”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”
arr =  â”‚32 â”‚64 â”‚64 â”‚12 â”‚22 â”‚11 â”‚ 2 â”‚
       â””â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”˜
            â–²   â–²
            j  j+1 (64 copied)
```

**LINE 14: Decrement j**
```
j = j - 1 = 1 - 1 = 0
```

---

### **Iteration 2: j = 0**

**LINE 12: Check**
```
j >= 0 â†’ 0 >= 0 â†’ TRUE âœ“
arr[j] > key â†’ arr[0] > 25 â†’ 32 > 25 â†’ TRUE âœ“

Enter loop
```

**LINE 13: Shift**
```
arr[1] = arr[0]
arr[1] = 32
```

**AFTER Shift:**
```
       â”Œâ”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”
arr =  â”‚32 â”‚32 â”‚64 â”‚12 â”‚22 â”‚11 â”‚ 2 â”‚
       â””â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”˜
        â–²   â–²
        j  j+1 (32 copied)
```

**LINE 14: Decrement j**
```
j = 0 - 1 = -1
```

---

### **Check Again**

**LINE 12:**
```
j >= 0 â†’ -1 >= 0 â†’ FALSE âœ—

EXIT loop
```

---

## LINE 16: Insert Key

```python
arr[j + 1] = key
arr[0] = 25
```

**AFTER Insertion:**
```
       â”Œâ”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”
arr =  â”‚25 â”‚32 â”‚64 â”‚12 â”‚22 â”‚11 â”‚ 2 â”‚
       â””â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”˜
        â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          Sorted      Unsorted
```

---

## **END OF PASS 2**

**Result:**
```
Sorted portion: [25, 32, 64]
Key 25 inserted at position 0
```

---

# PASS 3: i = 3

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  PASS 3 (i = 3)                            â”‚
â”‚  Goal: Insert 12 into [25, 32, 64]         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Process:**
- key = 12, j = 2
- Shift: 64 â†’ position 3
- Shift: 32 â†’ position 2
- Shift: 25 â†’ position 1
- Insert: 12 â†’ position 0

**Result:**
```
       â”Œâ”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”
arr = â”‚12 â”‚25 â”‚32 â”‚64 â”‚22 â”‚11 â”‚ 2 â”‚
       â””â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”˜
        â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            Sorted       Unsorted
```

---

# PASS 4: i = 4

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  PASS 4 (i = 4)                            â”‚
â”‚  Goal: Insert 22 into [12, 25, 32, 64]     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Initial:**
```
       â”Œâ”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”
arr =  â”‚12 â”‚25 â”‚32 â”‚64 â”‚22 â”‚11 â”‚ 2 â”‚
       â””â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”˜
        â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜ â–²
            Sorted     i = 4
```

**key = 22, j = 3**

**Shifts:**
- 64 > 22: Shift 64 â†’ position 4
- 32 > 22: Shift 32 â†’ position 3
- 25 > 22: Shift 25 â†’ position 2
- 12 > 22: NO â†’ Stop

**Insert:** 22 â†’ position 2

**Result:**
```
       â”Œâ”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”
arr =  â”‚12 â”‚22 â”‚25 â”‚32 â”‚64 â”‚11 â”‚ 2 â”‚
       â””â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”˜
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”˜
             Sorted        Unsorted
```

---

# PASS 5: i = 5

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  PASS 5 (i = 5)                            â”‚
â”‚  Goal: Insert 11 into [12,22,25,32,64]     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**key = 11, j = 4**

**Shifts:**
- 64, 32, 25, 22, 12 all > 11
- All shift right

**Insert:** 11 â†’ position 0

**Result:**
```
       â”Œâ”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”
arr =  â”‚11 â”‚12 â”‚22 â”‚25 â”‚32 â”‚64 â”‚ 2 â”‚
       â””â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”˜
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â–²
              Sorted          i=6 next
```

---

# PASS 6: i = 6

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  PASS 6 (i = 6) - LAST PASS                â”‚
â”‚  Goal: Insert 2 into [11,12,22,25,32,64]   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**key = 2, j = 5**

**Shifts:**
- All elements (64, 32, 25, 22, 12, 11) > 2
- All shift right

**Insert:** 2 â†’ position 0

**Result:**
```
       â”Œâ”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”
arr =  â”‚ 2 â”‚11 â”‚12 â”‚22 â”‚25 â”‚32 â”‚64 â”‚
       â””â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”˜
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               ALL SORTED!
```

---

## LINE 18: Return Sorted Array

```python
return arr
```

**Returns:** `[2, 11, 12, 22, 25, 32, 64]`

---

## LINE 26: Print Sorted Array

```python
print("Sorted Array:", arr)
```

**Console Output:**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Sorted Array: [2, 11, 12, 22, 25, 32, 64] â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

# COMPLETE EXECUTION SUMMARY

## Pass-by-Pass Transformation

```
Original:  [64, 32, 25, 12, 22, 11, 2]

Pass 1 (i=1): Insert 32 into [64]
  Before: [64, 32, 25, 12, 22, 11, 2]
  Shifts: 64â†’
  After:  [32, 64, 25, 12, 22, 11, 2]

Pass 2 (i=2): Insert 25 into [32, 64]
  Before: [32, 64, 25, 12, 22, 11, 2]
  Shifts: 64â†’, 32â†’
  After:  [25, 32, 64, 12, 22, 11, 2]

Pass 3 (i=3): Insert 12 into [25, 32, 64]
  Before: [25, 32, 64, 12, 22, 11, 2]
  Shifts: 64â†’, 32â†’, 25â†’
  After:  [12, 25, 32, 64, 22, 11, 2]

Pass 4 (i=4): Insert 22 into [12, 25, 32, 64]
  Before: [12, 25, 32, 64, 22, 11, 2]
  Shifts: 64â†’, 32â†’, 25â†’
  After:  [12, 22, 25, 32, 64, 11, 2]

Pass 5 (i=5): Insert 11 into [12, 22, 25, 32, 64]
  Before: [12, 22, 25, 32, 64, 11, 2]
  Shifts: 64â†’, 32â†’, 25â†’, 22â†’, 12â†’
  After:  [11, 12, 22, 25, 32, 64, 2]

Pass 6 (i=6): Insert 2 into [11, 12, 22, 25, 32, 64]
  Before: [11, 12, 22, 25, 32, 64, 2]
  Shifts: 64â†’, 32â†’, 25â†’, 22â†’, 12â†’, 11â†’
  After:  [2, 11, 12, 22, 25, 32, 64]

Final: [2, 11, 12, 22, 25, 32, 64] âœ“ SORTED
```

---

## Visual Animation: Like Sorting Playing Cards

```
Pass 1: Insert 32
â”Œâ”€â”€â”€â” â”Œâ”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”
â”‚64 â”‚ â”‚32 â”‚25 â”‚12 â”‚22 â”‚11 â”‚ 2 â”‚
â””â”€â”€â”€â”˜ â””â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”˜
 â–²     â–²
Hold  Pick
      
Move 64 right, insert 32:
â”Œâ”€â”€â”€â”¬â”€â”€â”€â” â”Œâ”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”
â”‚32 â”‚64 â”‚ â”‚25 â”‚12 â”‚22 â”‚11 â”‚ 2 â”‚
â””â”€â”€â”€â”´â”€â”€â”€â”˜ â””â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”˜

Pass 2: Insert 25
â”Œâ”€â”€â”€â”¬â”€â”€â”€â” â”Œâ”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”
â”‚32 â”‚64 â”‚ â”‚25 â”‚12 â”‚22 â”‚11 â”‚ 2 â”‚
â””â”€â”€â”€â”´â”€â”€â”€â”˜ â””â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”˜
          â–²
         Pick
         
Move 64 & 32 right, insert 25:
â”Œâ”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â” â”Œâ”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”
â”‚25 â”‚32 â”‚64 â”‚ â”‚12 â”‚22 â”‚11 â”‚ 2 â”‚
â””â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”˜ â””â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”˜

... continues until all sorted ...

Final:
â”Œâ”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”
â”‚ 2 â”‚11 â”‚12 â”‚22 â”‚25 â”‚32 â”‚64 â”‚
â””â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”˜
```

---

## Key Mechanism: Shifting vs Swapping

```
INSERTION SORT uses SHIFTING:
â”Œâ”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”
â”‚25 â”‚32 â”‚64 â”‚12 â”‚
â””â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”˜
              â–²
           key=12

Step 1: Store key
    â”Œâ”€â”€â”€â”€â”
    â”‚ 12 â”‚
    â””â”€â”€â”€â”€â”˜

Step 2: Shift 64â†’
â”Œâ”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”
â”‚25 â”‚32 â”‚64 â”‚64 â”‚
â””â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”˜

Step 3: Shift 32â†’
â”Œâ”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”
â”‚25 â”‚32 â”‚32 â”‚64 â”‚
â””â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”˜

Step 4: Shift 25â†’
â”Œâ”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”
â”‚25 â”‚25 â”‚32 â”‚64 â”‚
â””â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”˜

Step 5: Insert key
    â”Œâ”€â”€â”€â”€â”
    â”‚ 12 â”‚â”€â”€â”€â”
    â””â”€â”€â”€â”€â”˜   â”‚
             â–¼
â”Œâ”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”
â”‚12 â”‚25 â”‚32 â”‚64 â”‚
â””â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”˜
```

---

## Algorithm Flow Chart

```
                    START
                      â”‚
                      â–¼
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚ n = len(arr)  â”‚
              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â”‚
                      â–¼
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚ for i in      â”‚
              â”‚ range(1, n)   â”‚
              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚             â”‚             â”‚
      i=1           i=2          i=n-1
        â”‚             â”‚             â”‚
        â–¼             â–¼             â–¼
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚ key = arr[i]                    â”‚
  â”‚ j = i - 1                       â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â”‚
                      â–¼
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚ while j >= 0 and arr[j] > key   â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â”‚
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚                â”‚
             YES              NO
              â”‚                â”‚
              â–¼                â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚
    â”‚ arr[j+1]=arr[j] â”‚        â”‚
    â”‚ j = j - 1       â”‚        â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
              â”‚                â”‚
              â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
                      â”‚
                      â–¼
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚ arr[j+1] = keyâ”‚
              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â”‚
                      â–¼
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚ Next i        â”‚
              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â”‚
                      â–¼
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚ Return arr    â”‚
              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â”‚
                      â–¼
                     END
```

---

## Complexity Analysis

### **Time Complexity**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”
â”‚     Case     â”‚ Comparisons â”‚  Shifts  â”‚ Time â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¤
â”‚ Best Case    â”‚    n-1      â”‚    0     â”‚ O(n) â”‚
â”‚ (Sorted)     â”‚             â”‚          â”‚      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¤
â”‚ Average Case â”‚   nÂ²/4      â”‚   nÂ²/4   â”‚ O(nÂ²)â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¤
â”‚ Worst Case   â”‚   nÂ²/2      â”‚   nÂ²/2   â”‚ O(nÂ²)â”‚
â”‚ (Reverse)    â”‚             â”‚          â”‚      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”˜

For n=7:
  Best: 6 comparisons, 0 shifts
  Worst: ~21 comparisons, ~21 shifts
```

### **Space Complexity**

```
Space: O(1) - In-place sorting
Only variables: n, i, j, key
```

---

## Loop Invariants

```
INVARIANT (After iteration i):
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  arr[0..i] is sorted               â”‚
â”‚  arr[0..i] contains the same       â”‚
â”‚  elements that were originally     â”‚
â”‚  in arr[0..i], but in sorted order â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Example after i=3:
[12, 25, 32, 64, 22, 11, 2]
 â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
    Sorted         Unsorted
    
Elements 12,25,32,64 are sorted
They're the same elements from positions 0-3
```

---

## Why It's Called "Insertion" Sort

```
Like inserting cards into a sorted hand:

Your sorted hand: [3, 5, 8]
New card:         7

Find position:    [3, 5, _, 8]
                        â–²
                  Insert here
                  
Shift cards:      [3, 5, 8, 8]
Insert 7:         [3, 5, 7, 8]

Same process as the algorithm!
```

---

## Key Characteristics

### **Advantages**
```
âœ… Simple implementation
âœ… Efficient for small datasets
âœ… Adaptive: O(n) for nearly sorted arrays
âœ… Stable: Maintains order of equal elements
âœ… In-place: O(1) space
âœ… Online: Can sort as it receives data
```

### **Disadvantages**
```
âŒ O(nÂ²) for large random datasets
âŒ Many shifts for reverse-sorted arrays
âŒ Not suitable for large data
```

---

## ğŸ‰ Complete Understanding!

**You now understand:**
- âœ… Every line execution with diagrams
- âœ… How `key` stores element to insert
- âœ… How `j` points to sorted portion
- âœ… While loop shifts larger elements right
- âœ… Final insertion at correct position
- âœ… Outer loop selects each element
- âœ… Inner loop finds insertion spot
- âœ… Complete trace with visual shifts
- âœ… Sorted portion grows from left
- âœ… Time: O(nÂ²), Space: O(1)

**Key Insight:**
```
Build sorted array one element at a time
by inserting each new element into its
correct position in the already-sorted portion!

Like sorting playing cards in your hand! ğŸƒ
```