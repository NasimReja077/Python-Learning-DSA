# Complete Line-by-Line Explanation: Bubble Sort
---
## Complete Code with Line Numbers

```python
# Function to perform Bubble Sort          # Line 1 (comment)
def bubble_sort(arr):                      # Line 2
    n = len(arr)   # total number of elements  # Line 3
                                           # Line 4 (blank)
    # Outer loop for number of passes      # Line 5 (comment)
    for i in range(n - 1):                 # Line 6
                                           # Line 7 (blank)
        # Inner loop for comparison         # Line 8 (comment)
        for j in range(0, n - 1 - i):      # Line 9
                                           # Line 10 (blank)
            # Swap if current element is greater than next element  # Line 11 (comment)
            if arr[j] > arr[j + 1]:        # Line 12
                arr[j], arr[j + 1] = arr[j + 1], arr[j]  # Line 13
                                           # Line 14 (blank)
    return arr                             # Line 15
                                           # Line 16 (blank)
                                           # Line 17 (blank)
# -------- Example Usage --------          # Line 18 (comment)
arr = [64, 34, 25, 12, 22, 11, 90]        # Line 19
                                           # Line 20 (blank)
print("Original Array:", arr)              # Line 21
                                           # Line 22 (blank)
bubble_sort(arr)                           # Line 23
                                           # Line 24 (blank)
print("Sorted Array:", arr)                # Line 25
```

---

# EXAMPLE EXECUTION

Array to sort: **[64, 34, 25, 12, 22, 11, 90]**

---

## LINE 19: Initialize Array

```python
arr = [64, 34, 25, 12, 22, 11, 90]
```

**Visual:**
```
Index:  0   1   2   3   4   5   6
       â”Œâ”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”
arr = â”‚64 â”‚34 â”‚25 â”‚12 â”‚22 â”‚11 â”‚90 â”‚
       â””â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”˜

Total elements: 7
```

---

## LINE 21: Print Original Array

```python
print("Original Array:", arr)
```

**Console Output:**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Original Array: [64, 34, 25, 12, 22, 11, 90] â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## LINE 23: Call bubble_sort()

```python
bubble_sort(arr)
```

**Function starts executing...**

---

## LINE 3: Get Array Length

```python
n = len(arr)
```

**Execution:**
```
len(arr) = 7
n = 7
```

**Memory State:**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  AFTER LINE 3                â”‚
â”‚                              â”‚
â”‚  n = 7                       â”‚
â”‚  arr = [64, 34, 25, 12,      â”‚
â”‚         22, 11, 90]          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## LINE 6: Outer Loop (Passes)

```python
for i in range(n - 1):
```

**What it does:**
- Controls the number of **passes** through the array
- `range(n - 1)` = `range(6)` = 0, 1, 2, 3, 4, 5
- Need `n - 1` passes because after each pass, one element is in its final position

**Why n - 1 passes?**
```
7 elements need 6 passes:
Pass 1: Largest element bubbles to end
Pass 2: 2nd largest bubbles to position 5
Pass 3: 3rd largest bubbles to position 4
Pass 4: 4th largest bubbles to position 3
Pass 5: 5th largest bubbles to position 2
Pass 6: 6th largest bubbles to position 1
(7th element automatically in position 0)
```

---

# PASS 1: i = 0

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  PASS 1 (i = 0)                â”‚
â”‚  Goal: Move largest to end     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## LINE 9: Inner Loop

```python
for j in range(0, n - 1 - i):
```

**For Pass 1 (i = 0):**
```
range(0, n - 1 - i)
= range(0, 7 - 1 - 0)
= range(0, 6)
= 0, 1, 2, 3, 4, 5

j will be: 0, 1, 2, 3, 4, 5
```

**Why `n - 1 - i`?**
```
â€¢ n - 1: Don't go out of bounds (comparing j and j+1)
â€¢ - i: After each pass, rightmost i elements are sorted
        No need to check them again
```

---

### **Iteration 1: j = 0**

**Initial State:**
```
Index:  0   1   2   3   4   5   6
       â”Œâ”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”
arr = â”‚64 â”‚34 â”‚25 â”‚12 â”‚22 â”‚11 â”‚90 â”‚
       â””â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”˜
        â–²   â–²
        j  j+1
```

**LINE 12: Compare**
```python
if arr[j] > arr[j + 1]:
```

```
arr[0] = 64
arr[1] = 34

64 > 34? â†’ TRUE âœ“

Execute swap (Line 13)
```

**LINE 13: Swap**
```python
arr[j], arr[j + 1] = arr[j + 1], arr[j]
```

**BEFORE Swap:**
```
       â”Œâ”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”
arr = â”‚64 â”‚34 â”‚25 â”‚12 â”‚22 â”‚11 â”‚90 â”‚
       â””â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”˜
        â–²   â–²
       swap
```

**AFTER Swap:**
```
       â”Œâ”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”
arr = â”‚34 â”‚64 â”‚25 â”‚12 â”‚22 â”‚11 â”‚90 â”‚
       â””â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”˜
        âœ“   âœ“
      Swapped!
```

**Visual Swap:**
```
Step 1: temp = arr[j + 1] = 34
        â”Œâ”€â”€â”€â”€â”
        â”‚ 34 â”‚ (stored)
        â””â”€â”€â”€â”€â”˜

Step 2: arr[j + 1] = arr[j] = 64
        64 moves right â†’

Step 3: arr[j] = temp = 34
        34 moves left â†

Result: [34, 64, 25, 12, 22, 11, 90]
```

---

### **Iteration 2: j = 1**

**Current State:**
```
       â”Œâ”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”
arr = â”‚34 â”‚64 â”‚25 â”‚12 â”‚22 â”‚11 â”‚90 â”‚
       â””â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”˜
            â–²   â–²
            j  j+1
```

**LINE 12: Compare**
```
arr[1] = 64
arr[2] = 25

64 > 25? â†’ TRUE âœ“

Swap!
```

**AFTER Swap:**
```
       â”Œâ”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”
arr = â”‚34 â”‚25 â”‚64 â”‚12 â”‚22 â”‚11 â”‚90 â”‚
       â””â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”˜
            âœ“   âœ“
```

---

### **Iteration 3: j = 2**

**Current State:**
```
       â”Œâ”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”
arr = â”‚34 â”‚25 â”‚64 â”‚12 â”‚22 â”‚11 â”‚90 â”‚
       â””â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”˜
                â–²   â–²
                j  j+1
```

**Compare:**
```
64 > 12? â†’ TRUE âœ“
```

**AFTER Swap:**
```
       â”Œâ”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”
arr = â”‚34 â”‚25 â”‚12 â”‚64 â”‚22 â”‚11 â”‚90 â”‚
       â””â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”˜
                âœ“   âœ“
```

---

### **Iteration 4: j = 3**

**Current State:**
```
       â”Œâ”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”
arr = â”‚34 â”‚25 â”‚12 â”‚64 â”‚22 â”‚11 â”‚90 â”‚
       â””â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”˜
                    â–²   â–²
                    j  j+1
```

**Compare:**
```
64 > 22? â†’ TRUE âœ“
```

**AFTER Swap:**
```
       â”Œâ”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”
arr = â”‚34 â”‚25 â”‚12 â”‚22 â”‚64 â”‚11 â”‚90 â”‚
       â””â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”˜
                    âœ“   âœ“
```

---

### **Iteration 5: j = 4**

**Current State:**
```
       â”Œâ”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”
arr = â”‚34 â”‚25 â”‚12 â”‚22 â”‚64 â”‚11 â”‚90 â”‚
       â””â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”˜
                        â–²   â–²
                        j  j+1
```

**Compare:**
```
64 > 11? â†’ TRUE âœ“
```

**AFTER Swap:**
```
       â”Œâ”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”
arr = â”‚34 â”‚25 â”‚12 â”‚22 â”‚11 â”‚64 â”‚90 â”‚
       â””â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”˜
                        âœ“   âœ“
```

---

### **Iteration 6: j = 5**

**Current State:**
```
       â”Œâ”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”
arr = â”‚34 â”‚25 â”‚12 â”‚22 â”‚11 â”‚64 â”‚90 â”‚
       â””â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”˜
                            â–²   â–²
                            j  j+1
```

**Compare:**
```
64 > 90? â†’ FALSE âœ—

No swap!
```

**Array remains:**
```
       â”Œâ”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”
arr = â”‚34 â”‚25 â”‚12 â”‚22 â”‚11 â”‚64 â”‚90 â”‚
       â””â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”˜
```

---

## **END OF PASS 1**

**Result after Pass 1:**
```
       â”Œâ”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”
arr = â”‚34 â”‚25 â”‚12 â”‚22 â”‚11 â”‚64 â”‚90 â”‚
       â””â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€
                                    â–²
                                    â”‚
                            Largest element
                            in final position!
```

**Observation:**
- Largest element (90) "bubbled" to the end
- Position 6 is now sorted âœ“

---

# PASS 2: i = 1

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  PASS 2 (i = 1)                â”‚
â”‚  Goal: Move 2nd largest to     â”‚
â”‚        position 5              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Inner Loop Range:**
```
range(0, n - 1 - i)
= range(0, 7 - 1 - 1)
= range(0, 5)
= 0, 1, 2, 3, 4

Only check first 5 positions
(Position 6 already sorted)
```

---

### **Pass 2 Iterations (Summary)**

**j = 0:** Compare 34 vs 25 â†’ 34 > 25 â†’ Swap
```
[34, 25, ...] â†’ [25, 34, ...]
```

**j = 1:** Compare 34 vs 12 â†’ 34 > 12 â†’ Swap
```
[25, 34, 12, ...] â†’ [25, 12, 34, ...]
```

**j = 2:** Compare 34 vs 22 â†’ 34 > 22 â†’ Swap
```
[25, 12, 34, 22, ...] â†’ [25, 12, 22, 34, ...]
```

**j = 3:** Compare 34 vs 11 â†’ 34 > 11 â†’ Swap
```
[25, 12, 22, 34, 11, ...] â†’ [25, 12, 22, 11, 34, ...]
```

**j = 4:** Compare 34 vs 64 â†’ 34 > 64 â†’ FALSE â†’ No swap
```
[25, 12, 22, 11, 34, 64, 90]
```

---

## **END OF PASS 2**

**Result:**
```
       â”Œâ”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”
arr = â”‚25 â”‚12 â”‚22 â”‚11 â”‚34 â”‚64 â”‚90 â”‚
       â””â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”˜
                        â–²   â–²   â–²
                        â”‚   â”‚   â”‚
                    Sorted positions
```

---

# PASS 3: i = 2

**Inner Loop Range:** `range(0, 4)` â†’ j = 0, 1, 2, 3

**Iterations:**

**j = 0:** 25 > 12 â†’ Swap â†’ `[12, 25, 22, 11, 34, 64, 90]`

**j = 1:** 25 > 22 â†’ Swap â†’ `[12, 22, 25, 11, 34, 64, 90]`

**j = 2:** 25 > 11 â†’ Swap â†’ `[12, 22, 11, 25, 34, 64, 90]`

**j = 3:** 25 > 34 â†’ FALSE â†’ No swap

---

## **END OF PASS 3**

```
       â”Œâ”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”
arr = â”‚12 â”‚22 â”‚11 â”‚25 â”‚34 â”‚64 â”‚90 â”‚
       â””â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”˜
                    â–²   â–²   â–²   â–²
                    Sorted positions
```

---

# PASS 4: i = 3

**Inner Loop Range:** `range(0, 3)` â†’ j = 0, 1, 2

**Iterations:**

**j = 0:** 12 > 22 â†’ FALSE â†’ No swap

**j = 1:** 22 > 11 â†’ Swap â†’ `[12, 11, 22, 25, 34, 64, 90]`

**j = 2:** 22 > 25 â†’ FALSE â†’ No swap

---

## **END OF PASS 4**

```
       â”Œâ”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”
arr = â”‚12 â”‚11 â”‚22 â”‚25 â”‚34 â”‚64 â”‚90 â”‚
       â””â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”˜
                â–²   â–²   â–²   â–²   â–²
                Sorted positions
```

---

# PASS 5: i = 4

**Inner Loop Range:** `range(0, 2)` â†’ j = 0, 1

**Iterations:**

**j = 0:** 12 > 11 â†’ Swap â†’ `[11, 12, 22, 25, 34, 64, 90]`

**j = 1:** 12 > 22 â†’ FALSE â†’ No swap

---

## **END OF PASS 5**

```
       â”Œâ”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”
arr = â”‚11 â”‚12 â”‚22 â”‚25 â”‚34 â”‚64 â”‚90 â”‚
       â””â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”˜
            â–²   â–²   â–²   â–²   â–²   â–²
            Sorted positions
```

---

# PASS 6: i = 5

**Inner Loop Range:** `range(0, 1)` â†’ j = 0

**Iterations:**

**j = 0:** 11 > 12 â†’ FALSE â†’ No swap

---

## **END OF PASS 6**

```
       â”Œâ”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”
arr = â”‚11 â”‚12 â”‚22 â”‚25 â”‚34 â”‚64 â”‚90 â”‚
       â””â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”˜
        â–²   â–²   â–²   â–²   â–²   â–²   â–²
        ALL SORTED!
```

---

## LINE 15: Return Sorted Array

```python
return arr
```

**Returns:** `[11, 12, 22, 25, 34, 64, 90]`

---

## LINE 25: Print Sorted Array

```python
print("Sorted Array:", arr)
```

**Console Output:**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Sorted Array: [11, 12, 22, 25, 34, 64, 90] â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

# COMPLETE EXECUTION SUMMARY

## Pass-by-Pass Transformation

```
Original:  [64, 34, 25, 12, 22, 11, 90]

Pass 1:    [34, 25, 12, 22, 11, 64, 90]  â† 90 in place
Pass 2:    [25, 12, 22, 11, 34, 64, 90]  â† 64 in place
Pass 3:    [12, 22, 11, 25, 34, 64, 90]  â† 34 in place
Pass 4:    [12, 11, 22, 25, 34, 64, 90]  â† 25 in place
Pass 5:    [11, 12, 22, 25, 34, 64, 90]  â† 22 in place
Pass 6:    [11, 12, 22, 25, 34, 64, 90]  â† 12 in place

Final:     [11, 12, 22, 25, 34, 64, 90]  âœ“ SORTED
```

---

## Visual Animation: How Elements "Bubble"

```
Pass 1: Largest bubbles to end
â”Œâ”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”
â”‚64 â”‚34 â”‚25 â”‚12 â”‚22 â”‚11 â”‚90 â”‚
â””â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”˜
  â†“   â†“
â”Œâ”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”
â”‚34 â”‚64 â”‚25 â”‚12 â”‚22 â”‚11 â”‚90 â”‚
â””â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”˜
      â†“   â†“
â”Œâ”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”
â”‚34 â”‚25 â”‚64 â”‚12 â”‚22 â”‚11 â”‚90 â”‚
â””â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”˜
          â†“   â†“
â”Œâ”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”
â”‚34 â”‚25 â”‚12 â”‚64 â”‚22 â”‚11 â”‚90 â”‚
â””â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”˜
              â†“   â†“
â”Œâ”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”
â”‚34 â”‚25 â”‚12 â”‚22 â”‚64 â”‚11 â”‚90 â”‚
â””â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”˜
                  â†“   â†“
â”Œâ”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”
â”‚34 â”‚25 â”‚12 â”‚22 â”‚11 â”‚64 â”‚90 â”‚ â† 90 doesn't move
â””â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€
                            âœ“

Pass 2: 2nd largest bubbles
â”Œâ”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”
â”‚34 â”‚25 â”‚12 â”‚22 â”‚11 â”‚64 â”‚90 â”‚
â””â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”˜
  â†“   â†“                    â–²
                         sorted
... (34 bubbles to position 5)

Final Result:
â”Œâ”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”
â”‚11 â”‚12 â”‚22 â”‚25 â”‚34 â”‚64 â”‚90 â”‚
â””â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”˜
 â–²   â–²   â–²   â–²   â–²   â–²   â–²
 â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         ALL SORTED!
```

---

## Complete Iteration Count

```
Pass 1 (i=0): 6 comparisons (j: 0,1,2,3,4,5)
Pass 2 (i=1): 5 comparisons (j: 0,1,2,3,4)
Pass 3 (i=2): 4 comparisons (j: 0,1,2,3)
Pass 4 (i=3): 3 comparisons (j: 0,1,2)
Pass 5 (i=4): 2 comparisons (j: 0,1)
Pass 6 (i=5): 1 comparison  (j: 0)

Total comparisons: 6+5+4+3+2+1 = 21
Formula: n(n-1)/2 = 7(6)/2 = 21 âœ“
```

---

## Algorithm Flow Chart

```
                    START
                      â”‚
                      â–¼
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚ Get array     â”‚
              â”‚ length (n)    â”‚
              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â”‚
                      â–¼
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚ for i in      â”‚
              â”‚ range(n-1)    â”‚
              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚             â”‚             â”‚
       Pass1        Pass2         Pass6
        â”‚             â”‚             â”‚
        â–¼             â–¼             â–¼
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚ for j in range(0, n-1-i)        â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â”‚
                      â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚ Is arr[j] > arr[j+1]?   â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â”‚
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚                â”‚
             YES              NO
              â”‚                â”‚
              â–¼                â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”‚
        â”‚  SWAP   â”‚            â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â”‚
              â”‚                â”‚
              â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
                      â”‚
                      â–¼
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚ Next j        â”‚
              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â”‚
                      â–¼
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚ Next i (pass) â”‚
              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â”‚
                      â–¼
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚ Return sorted â”‚
              â”‚ array         â”‚
              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â”‚
                      â–¼
                     END
```

---

## Complexity Analysis

### **Time Complexity**

| Case | Comparisons | Swaps | Time |
|------|-------------|-------|------|
| **Best Case** | n-1 | 0 | O(n) |
| (Already sorted) | Single pass | No swaps | Linear |
| **Average Case** | n(n-1)/2 | ~nÂ²/4 | O(nÂ²) |
| **Worst Case** | n(n-1)/2 | n(n-1)/2 | O(nÂ²) |
| (Reverse sorted) | All comparisons | All swaps | Quadratic |

**For our example (n=7):**
```
Comparisons: 7 Ã— 6 / 2 = 21
Swaps: Varied (depends on initial order)
Time: O(49) = O(nÂ²)
```

### **Space Complexity**

```
Space: O(1) - In-place sorting
Only uses a few variables (i, j, temp for swap)
No extra arrays needed
```

---

## Why It's Called "Bubble" Sort

```
Smaller elements "bubble up" to the top
Larger elements "sink down" to the bottom

Like bubbles in water:
  â—‹     â† Small (light) bubbles float up
 â—‹â—‹
â—‹â—‹â—‹
â”€â”€â”€â”€â”€â”€â”€
  â—     â† Large (heavy) elements sink
 â—â—â—
â—â—â—â—â—
```

---

## Key Characteristics

### **Advantages**
```
âœ… Simple to understand and implement
âœ… In-place (no extra memory)
âœ… Stable sort (maintains relative order of equal elements)
âœ… Can detect if array is already sorted (with optimization)
```

### **Disadvantages**
```
âŒ Slow for large datasets (O(nÂ²))
âŒ Many unnecessary comparisons
âŒ Not suitable for production use
âŒ Much slower than Quick Sort, Merge Sort
```

---

## Optimized Version (Early Exit)

```python
def bubble_sort_optimized(arr):
    n = len(arr)
    
    for i in range(n - 1):
        swapped = False  # Track if any swap occurred
        
        for j in range(0, n - 1 - i):
            if arr[j] > arr[j + 1]:
                arr[j], arr[j + 1] = arr[j + 1], arr[j]
                swapped = True
        
        # If no swaps, array is sorted - exit early
        if not swapped:
            break
    
    return arr
```

**Benefit:**
```
If array becomes sorted before all passes,
exit early and save time!

Best case becomes O(n) instead of O(nÂ²)
```

---

## ðŸŽ‰ Complete Understanding!

**You now understand:**
- âœ… How bubble sort works (adjacent comparisons & swaps)
- âœ… Outer loop: number of passes (n-1)
- âœ… Inner loop: comparisons per pass (decreasing)
- âœ… Why `n - 1 - i` (sorted portion grows)
- âœ… How largest elements "bubble" to the end
- âœ… Complete execution trace with diagrams
- âœ… Time complexity: O(nÂ²)
- âœ… Space complexity: O(1)
- âœ… Advantages and disadvantages

**Key Insight:**
```
Each pass guarantees one more element
is in its final sorted position!

Pass 1: Largest â†’ position n-1
Pass 2: 2nd largest â†’ position n-2
...
Pass n-1: 2nd smallest â†’ position 1
(Smallest automatically at position 0)
```